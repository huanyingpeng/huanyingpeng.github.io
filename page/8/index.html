<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"huanyp.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","display":"post","width_expanded":320,"width_dual_column":240,"padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="幻影彭的彩虹">
<meta property="og:url" content="https://huanyp.cn/page/8/index.html">
<meta property="og:site_name" content="幻影彭的彩虹">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="huan-yp">
<meta property="article:tag" content="算法竞赛, 自动化测试, 工程技术, Python">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://huanyp.cn/page/8/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/8/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>幻影彭的彩虹</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">幻影彭的彩虹</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">记录青春的扇区</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-友情链接"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友情链接</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="huan-yp"
      src="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
  <p class="site-author-name" itemprop="name">huan-yp</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">114</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">51</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/huan-yp" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;huan-yp" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:3051561876@qq.com" title="E-Mail → mailto:3051561876@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/1155409006?spm_id_from=333.1369.0.0" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;1155409006?spm_id_from&#x3D;333.1369.0.0" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i>Bilibili</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/29/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0928%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/29/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0928%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220928考试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-29 10:10:09" itemprop="dateCreated datePublished" datetime="2022-09-29T10:10:09+08:00">2022-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:32" itemprop="dateModified" datetime="2025-02-16T20:21:32+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="考试总结">考试总结</h2>
<p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0127">考试</a></p>
<h3 id="t1">T1</h3>
<p>经典的 01 分数规划问题，二分小数，直接 <code>DP</code>
，然后记录转移状态，倒推分数得到答案。</p>
<p>注意这种答案可能为 0 的 01 分数规划一定要从 -1
开始二分答案，不然可能会取不到 <code>0</code>。</p>
<p>注意到其实它的分子分母都比较小，二分分数也是可行的一种方式 。</p>
<p>考场上的错误其实挺离谱的，就不细说了。</p>
<p>二分分数不用倒推，就很简单了。</p>
<h3 id="t2">T2</h3>
<p>套路题。</p>
<p>观察发现如果每张牌个数都大于等于 <span
class="math inline">\(2\)</span>，那么一定合法。否则一定会用一些顺子来凑，同一个位置最多被三个顺子用，所以如果一个位置超过
<span class="math inline">\(5\)</span> 个，可以视为 <span
class="math inline">\(5\)</span> 个，状压 <span
class="math inline">\(DP\)</span>
出合法的状态，对每种状态计算答案并求和。</p>
<p>拿到状态后计算答案就是个组合数。</p>
<h3 id="t3">T3</h3>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/27/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0927%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/27/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0927%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220927测试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-27 19:21:05" itemprop="dateCreated datePublished" datetime="2022-09-27T19:21:05+08:00">2022-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:30" itemprop="dateModified" datetime="2025-02-16T20:21:30+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="考试总结">0927考试总结</h2>
<p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0126">考试</a></p>
<h3 id="t1">T1</h3>
<p>题意超级钢琴。</p>
<p>真的是非常经典的题目了，可以说是开创了处理同一个问题 <span
class="math inline">\(1-k\)</span> 优解的先河。</p>
<p>将解空间拆分成二维，枚举其中一维，考虑第二维的选择并计算答案，用
<code>priority_queue</code>
选择最优答案，选择答案后将当前的第一维按第二维剩下的情况拆分。</p>
<p>动态点分治也是一样的思路。</p>
<h3 id="t2">T2</h3>
<p>非常经典的题目，严格递增转不降是经典套路，最优解一定取到每个数值也是经典结论。</p>
<p>本题保证数据随机，应该是需要利用随机序列单调上升子序列长度为 <span
class="math inline">\(O(\sqrt n)\)</span> 的性质，但实际上可以 <span
class="math inline">\(O(n^2)\)</span> 轻松通过。</p>
<p>哦，应该是考虑补集转化，然后考虑哪些点固定，然后 <span
class="math inline">\(dp_i\)</span> 表示第 <span
class="math inline">\(i\)</span> 个点固定的最优代价，转移只能从能完成
<code>LIS</code>
转移的点转移过来，中间合法的条件是要么大于右边要么小于左边，根据经典结论一定可以调整成一段和左边相等，一段和右边相等，然后随机的情况下转移点个数
<span class="math inline">\(O(1)\)</span>，长度 <span
class="math inline">\(O(\sqrt n)\)</span>，总复杂度 <span
class="math inline">\(O(n\log n+n\sqrt n)\)</span>。</p>
<h4 id="简单证明经典结论">简单证明经典结论</h4>
<p>假设有一种最优解包含了不是原有数的数。</p>
<p>考虑第一个不是原有数的数，如果它被调大了，那么把它调小成上一个原有数一定更优。</p>
<p>如果它被调小了，就把它调到第一个比调整后的数大的原有数的位置，如果因此导致后面若干个数小于它了，那么不难得知这些数现在都被夹在两个原有的数之间，而且都是从两个原有数区间的外面调整过来的。从左边第一个数开始，找和它相同的数，如果相同的数中，被调小的数较多，那么全部调到第一个和它不同的数，否则调回第一个原数，变成子问题。</p>
<h3 id="t3">T3</h3>
<p>最大值最小显然二分。</p>
<p>考虑一个划分合法的条件，发现只能在某些合法的位置断开，而且在这些位置是否断开不影响第一个条件的合法性。</p>
<p>所以考虑对这些位置动态规划，直接转移是 <span
class="math inline">\(O(n^2)\)</span>
的，然后考虑维护所有可能的转移，发现如果拿个单调栈记录 <span
class="math inline">\(a\)</span>，那么转移的改变可以描述为 <span
class="math inline">\(O(n)\)</span> 次区间加，线段树维护即可。</p>
<p><strong>一个数组，考虑每个前缀的后缀最大值，可以被描述为 <span
class="math inline">\(O(n)\)</span> 次区间加。</strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/26/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0924%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/26/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0924%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220924考试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-26 08:22:11" itemprop="dateCreated datePublished" datetime="2022-09-26T08:22:11+08:00">2022-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:28" itemprop="dateModified" datetime="2025-02-16T20:21:28+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="考试总结">20220924 考试总结</h2>
<p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0125">考试</a></p>
<h3 id="t1">T1</h3>
<p>中规中矩的动态规划题。但我选择读错题。</p>
<p>求最长周长可以用一列一列考虑，处理出每个点向上延申的最上面的位置，用单调栈维护这个东西，然后可以做到
<span class="math inline">\(O(点数)\)</span> 处理。</p>
<h3 id="t2">T2</h3>
<p>又是逆向考虑的标准题目。</p>
<p>考虑最终答案的直径，对于直径这种东西，它的中点是非常特殊的，因为从中心到两边的距离是相同的。</p>
<p>这道题又要最小化直径生成树，也就是最小化中心到两边的距离，那从中心到某个点最小距离的最大值恰好就是直径的一般，所以对每个点跑一遍
BFS，求出 BFS 树的直径即可。</p>
<p><strong>不难得到一个结论：最小直径生成树的直径中点（有可能在一条边上）是图的绝对中心，其中图的绝对中心可以存在于一条边上或某个点上，该中心到所有点的最短路的最大值最小。
</strong></p>
<h3 id="t3">T3</h3>
<p>算是套路的反向转对穿。</p>
<p>称将反向视为对穿后形成的局面为对照局面，那么对照局面的周期为 <span
class="math inline">\(2L\)</span>，故问题周期为 <span
class="math inline">\(2L\)</span>，转化为 <span
class="math inline">\(T\le 2L\)</span>。</p>
<p>考虑往回走比较恼火，转化为撞墙后继续走，然后有一个相同颜色的人在此时出发，即在最初在一个对应的位置准备出发，容易发现仍然没有两个点在同一位置。</p>
<p>扩大了 <span class="math inline">\(n,m\)</span>
的范围以及数轴的考察范围，但是不用考虑转向了，难度实际上降低了。</p>
<p>由于有颜色差别，所以可以分出两种思考方向。</p>
<h4 id="换衣服">换衣服</h4>
<p>两个 Heren 相遇后换衣服，从左往右依次考虑每个向左的
Heren，除了第一次之外，都是右边的 Heren 在相邻之间换衣服（向左的那个
Heren 和第 <span class="math inline">\(i\)</span> 个换衣服之后马上和第
<span class="math inline">\(i+1\)</span> 个换），相邻向左的 Heren
换衣服是可以快速计算区间答案的（或者说用扫描线后是均摊 <span
class="math inline">\(O(1)\)</span> 的）。</p>
<h4 id="回到初始局面">回到初始局面</h4>
<p>考虑将对照局面的相遇和原局面的相遇，只需要求出相遇位置的排名，就可以对应回原局面的情况，注意从
<span class="math inline">\([0,L]\)</span>
之外出发的点，是什么颜色其实并不重要，因为排名落在这些区间的相遇，一定在
<span class="math inline">\((0,L)\)</span>
外面，注意是开区间，所以还需要妥善处理边界。</p>
<p>发现每一个向左的点的所有相遇事件，其位置的排名单调递增，对应的坐标也单调递增，回到原序列相邻元素是一个区间加。</p>
<p>思考这个方式的本质，和换衣服的思路没有太大差异。</p>
<p style="font-size:1px">
敲下"相遇"的时候，差点又掉眼泪....
</p>
<h3 id="t4">T4</h3>
<p>考场上想到了处理移动相交转图上问题搞，但是相交关系比较多，这个思路走不动。</p>
<p>首先得发现一件事，如果用一个方向的移动完全可以移动完，证明考虑找左端点最靠左然后最靠上的，所以左端点一定不会被遮挡，然后如果这条线段被另一些线段遮挡，那么找到遮挡它的线段中左端点最靠左然后最靠上的，依次找下去，左端点递增，所以一定会找到一个不被遮挡的线段，移除它就行。</p>
<p>考虑构造一种方案，不妨要求必须往上移动，对每个方向分别求最早的一次不合法，其它情况可以转坐标系。</p>
<p>考虑求出一个方向上，遮挡限制关系构成的图，首先它一定是个
DAG。我估计我是想不到的，但可能确实平面组合几何问题应该考虑扫描线，由于线段不交，所以扫描线与对应线段交点的相对位置永远不变，用
set 维护扫描线即可，加入时会多出 <span
class="math inline">\(O(1)\)</span>
条边。这样构建出来的图是可以正确描述遮挡关系的，感性理解挺容易的，证明有点难写。</p>
<p>拓扑排序之后第二问做完了，第一问的话，如果出现了拓扑序较大的先被移动了，那么就是不合法的，但是需要注意拓扑序只是一个比较松的限制，还需要加上横坐标区间有交才是两条线段存在先后限制的充要条件，证明是显然的。</p>
<p><strong>需要注意的是，这道题用了 <code>set</code>
去维护边，其中涉及到了浮点数的运算和比较，所以 <code>erase</code>
的时候需要考虑浮点误差。</strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/25/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/C-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/25/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/C-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">C++的一些踩坑记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-25 16:33:05" itemprop="dateCreated datePublished" datetime="2022-09-25T16:33:05+08:00">2022-09-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:47:07" itemprop="dateModified" datetime="2025-02-16T17:47:07+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="声明和定义">声明和定义</h2>
<ul>
<li>正常情况下，函数的声明和定义可以分开写，如果函数参数有默认参数，写在声明或定义处都没问题，如果函数为模板参数，那么<strong>默认参数只能写在声明处</strong></li>
</ul>
<h2 id="模板函数">模板函数</h2>
<p>模板函数用于将同一个函数对不同类型生效，一般来说，最好不要用
<code>auto</code> 来捕获，写模板函数才是正确的方式。</p>
<p><strong>模板函数的声明和定义一般不能分开。</strong></p>
<h3 id="隐式指定">隐式指定</h3>
<p>如果你想偷懒，就是调用的时候不想写
<code>&lt;T1,T2...&gt;</code>，那么你<strong>调用的时候</strong>必须能让编译器推断出每个模板类型参数是什么，而且同一种类型不能冲突。</p>
<p>这里需要注意字面量的类型问题。</p>
<p><strong>注意，如果你使用了默认参数，那么调用的时候可能就无法让编译器推断出类型从而出现
CE</strong>。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(T1 x,T1 y,T2 len=<span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//CE</span></span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">30</span>);<span class="comment">//OK</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(T1 x,T2 y,T2 len=<span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1.5</span>);<span class="comment">//OK</span></span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1.5</span>,<span class="number">30</span>);<span class="comment">//CE</span></span><br></pre></td></tr></table></figure>
<p>类型参数捕获比较阴间的例子，可以发现它会先捕获"简单"的，不太想深究这个：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(vector&lt;T1&gt; a,T1 b,T2 c)</span></span>;</span><br><span class="line"><span class="built_in">add</span>(&#123;<span class="number">1.5</span>,<span class="number">3</span>&#125;,<span class="number">1.5</span>,<span class="number">5</span>);<span class="comment">//ok</span></span><br><span class="line"><span class="built_in">add</span>(&#123;<span class="number">1.5</span>,<span class="number">3.5</span>&#125;,<span class="number">1</span>,<span class="number">5</span>);<span class="comment">//CE</span></span><br></pre></td></tr></table></figure>
<h3 id="显式指定">显式指定</h3>
<p>如果显示指定参数，那么会出现类型强制转换，和正常的函数调用完全相同。</p>
<p>例子就不举了，和正常函数没差别。</p>
<h2 id="指针">指针</h2>
<h3 id="常量指针">常量指针</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span>* p = &amp;a; <span class="comment">//指向常量的指针</span></span><br><span class="line"><span class="type">int</span>* <span class="type">const</span> p = &amp;a; <span class="comment">//p 指向的位置不可变</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/24/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0922%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/24/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0922%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220922考试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-24 07:20:48" itemprop="dateCreated datePublished" datetime="2022-09-24T07:20:48+08:00">2022-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:25" itemprop="dateModified" datetime="2025-02-16T20:21:25+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0124">考试</a></p>
<h2 id="t1">T1</h2>
<p>中规中矩的一道题，但是我的做法比较蠢。</p>
<p>考虑最终那些序列可以成为答案的方式没有问题，但是我考虑的条件是对于
<span class="math inline">\(a_i\)</span>，大于等于它的数必须多余 <span
class="math inline">\(n-i+1\)</span> 个。这样需要记录的东西是 <span
class="math inline">\(2\)</span>
维的，然后转移还不是优雅的前缀和形式。实际上可以考虑 <span
class="math inline">\(b_i\ge a_i\)</span>
这个条件，也就是多想一想的事，这样的转移可以写成优雅的前缀和。</p>
<p>像这种转化后考虑条件的题，一定要找一个简易的条件去做。</p>
<h2 id="t2">T2</h2>
<p>中规中矩的一道状压题。</p>
<p>我考虑直接爆搜联通块，但是这样的做法不是很优雅。转移时其实仅和当前选了哪些点有关，所以其实可以动态规划，做到
<span
class="math inline">\(3^n\)</span>，这种联通块相关的题，一定要考虑联通块之间有没有关系，能不能用动态规划搞定。</p>
<h3 id="t3">T3</h3>
<p>中规中矩的一道数据结构优化动态规划的题。</p>
<p>一种比较经典的动态规划优化方式是拿数据结构维护可能的转移，这题本身有着比较优美的性质，可以将对转移代价的贡献拆成两个区间加。</p>
<p>对于修改独立的情况，如果要快速求出答案需要预处理序列，不妨考虑二进制分组。</p>
<h2 id="t4">T4</h2>
<p>有意思的二分题。</p>
<p>最大值最小还是可以考虑二分的。</p>
<p>对于这种两者加起来不超过一个数的题，往往可以考虑每个数与 <span
class="math inline">\(\frac{s}{2}\)</span> 的关系。</p>
<p>这种题，显然最终的答案序列是很多个不超过 <span
class="math inline">\(\frac{s}{2}\)</span> 的，中间夹着不超过一个大于
<span class="math inline">\(\frac{s}{2}\)</span> 的，所以容易证明不超过
<span class="math inline">\(\frac{s}{2}\)</span>
的数是必选的，如果不选，一定可以调整过去。</p>
<p>然后二分之后需要 check 一下总个数。一个区间中存在合法的大于 <span
class="math inline">\(\frac{s}{2}\)</span>
的数，当且仅当最小值合法。但是如果真的要检查区间最小值个数，那是非常困难的，因为我们需要先得知每个区间的位置，这个位置个数是
<span class="math inline">\(O(n)\)</span> 的。</p>
<p>所以不妨从合法的数本身的性质考虑，容易发现，合法的数，与它左右两边第一个小于它的数的和一定是小于
<span class="math inline">\(s\)</span>
的，如果出现相等那么为了避免重复需要设一个第二关键字。</p>
<p>这样就可以做到 <span class="math inline">\(O(\log)\)</span> check
了，对于两边的边界，可以特判掉。</p>
<p>我们发现需要 check 的东西形如 <span
class="math inline">\([l,r]\)</span> 中 <span class="math inline">\(\le
x\)</span>
的数的个数，这是整体二分擅长处理的东西，所以考虑整体二分，二分的时候将原来的有序组有序的分裂下去，就变成了一维偏序，而且不需要排序（已经有序了）。求左右区间端点也可以类似的做。</p>
<p>对于边界，可以用 ST 表特判，时间复杂度 <span
class="math inline">\(O(n\log n)\)</span>。常数比较大。</p>
<p>整体二分的卡常是有一些技巧的，比如巧妙处理归并，归并的同时分裂数组，通过下标分裂而不是
<code>vector</code> 等。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/21/OI/%E7%AE%97%E6%B3%95/%E6%A0%91%E4%B8%8A%E9%93%BE%E9%A2%86%E5%9F%9F%E4%BF%AE%E6%94%B9%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/21/OI/%E7%AE%97%E6%B3%95/%E6%A0%91%E4%B8%8A%E9%93%BE%E9%A2%86%E5%9F%9F%E4%BF%AE%E6%94%B9%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">树上链领域修改问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-21 15:02:20" itemprop="dateCreated datePublished" datetime="2022-09-21T15:02:20+08:00">2022-09-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:55:44" itemprop="dateModified" datetime="2025-02-16T17:55:44+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>还没写完，估计是个论文级别的大坑</strong></p>
<h2 id="问题引入">问题引入</h2>
<p>NOI2021
中的《轻重边》，一种比较经典的解法是将操作视为点染色，然后处理相邻点颜色相同的数量得到答案。但还有一种真正的<strong>树链剖分</strong>做法，这种做法能够体现树链剖分的本质——将树划分成
<span class="math inline">\(\log n\)</span> 条链，依次处理它们。</p>
<p>这一类题本质上都是树上邻域修改问题，即给定一条链，修改这条链的邻域。</p>
<h2 id="单点邻域修改">单点邻域修改</h2>
<p>条件：操作存在结合律。</p>
<p>给定一个点，修改其树上邻域。</p>
<p>这个是比较好做的，分两种情况讨论，操作是否存在逆元（且逆元容易求解）。</p>
<h3 id="操作存在逆元">操作存在逆元</h3>
<p>将一个点的操作视为两个部分，自身+父亲，对一个点的邻域操作时，在自身上打一个标记，暴力修改自己父亲的值，如果操作存在交换律则没有问题，如果不存在，则需要先得到父亲的真实值，然后操作后再放一个父亲的父亲标记的逆元。</p>
<p>共需进行 <span class="math inline">\(O(n)\)</span>
次操作和求解逆元。</p>
<h3 id="操作不存在逆元">操作不存在逆元</h3>
<p>如果操作只有结合律，那么会比较麻烦，如果是邻域赋值这类和<strong>之前的值无关</strong>的操作，可以记录一下每个点操作时间戳，清空一下树上标记，还是有救的。</p>
<p>如果和之前的值有关，并且查询只在最后做，那么可以开线段树记录一下</p>
<h3 id="操作不存在结合律">操作不存在结合律</h3>
<p>没救了，暴力吧。</p>
<h2 id="单点-k-阶邻域修改">单点 <span class="math inline">\(k\)</span>
阶邻域修改</h2>
<h2 id="树剖的优势">树剖的优势</h2>
<p>首先处理的操作必须具备结合律</p>
<p>首先处理在链上的情况是比较容易的，因为邻域只涉及额外 <span
class="math inline">\(O(1)\)</span>
个点，我们需要将这个优势拿到树上去。</p>
<p>考虑每次处理的 <span class="math inline">\(\log\)</span>
条重链，对于每条重链，它只会在 <span
class="math inline">\(top_u\)</span>
处对其它，或者受到其它重链的影响。不妨将对一个点的修改放到两个地方，它自己和它父亲</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/21/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0824%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/21/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0824%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">0824考试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-21 11:14:34" itemprop="dateCreated datePublished" datetime="2022-09-21T11:14:34+08:00">2022-09-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:17" itemprop="dateModified" datetime="2025-02-16T20:21:17+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="某场考试总结">某场考试总结</h2>
<p>考完了一个月之后再来写总结也是没谁了。。。</p>
<p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0112">考试</a></p>
<h3 id="t1">T1</h3>
<p>简单题，随手构造出来就行。</p>
<p>可以加强，比如弄成质数个，或者干脆 <span
class="math inline">\(10^{18}\)</span> 个。</p>
<p>然而有个结论，考虑往一个字符串后添加 <span
class="math inline">\(k\)</span> 个 <span
class="math inline">\(0/1\)</span>，那么本质不同子序列个数一定可以写成
<span class="math inline">\(k(x-b)+x\)</span> 的形式，其中 <span
class="math inline">\(x\)</span> 为该字符串的本质不同子序列个数，<span
class="math inline">\(b\)</span> 为上一个 <span
class="math inline">\(0/1\)</span>
前一个位置的答案。根据这个玩意来构造，不会太好做。</p>
<h3 id="t2">T2</h3>
<p>发现本质不同子序列个数随 <span class="math inline">\(n\)</span>
的增长近乎呈指数增长，猜想满足条件的不会太多，所以暴力处理即可。</p>
<p>实际上设 <span class="math inline">\(DP\)</span> 状态，<span
class="math inline">\(dp[i]\)</span> 表示考虑到前 <span
class="math inline">\(i\)</span> 个字符，本质不同子串个数，有转移 <span
class="math inline">\(dp[i]=2\times dp[i-1]-dp[lst[i]-1]\)</span>，<span
class="math inline">\(lst\)</span> 表示 <span
class="math inline">\(i\)</span> 处字符上一次出现的位置。</p>
<p>于是设 <span class="math inline">\(dp[i][j][k]\)</span> 为考虑前
<span class="math inline">\(i\)</span> 个字符，上一个 <span
class="math inline">\(0\)</span> 处本质不同子序列数量 <span
class="math inline">\(j\)</span>，上一个 <span
class="math inline">\(1\)</span> 处本质不同子序列数量为 <span
class="math inline">\(k\)</span>，枚举 <span
class="math inline">\(0,1\)</span>，直接转移。</p>
<h3 id="t3">T3</h3>
<p>我想的是折半之后爆搜，然后剪一下枝，比 <span
class="math inline">\(std\)</span> 快 <span
class="math inline">\(5\)</span> 倍。</p>
<p>确实也是折半，但是其实可以考虑偏序关系，两个 <span
class="math inline">\((x,y,z)\)</span> 三元组合并，不妨要求 <span
class="math inline">\(x_1+x_2\le y_1+y_2\le z_1+z_2\)</span>，然后值为
<span
class="math inline">\(z_1+z_2-(x_1+x_2)\)</span>，本质上是个二维偏序。</p>
<p>还可以剪个枝，强制要求 <span class="math inline">\(x_1\le y_1\le
z_1\)</span>。同样能对应上去。</p>
<p>实际上还可以发现强制要求 <span class="math inline">\(z_2\le y_2\le
x_2\)</span> 也没有问题，证明比较繁琐，故省略。</p>
<h3 id="t4">T4</h3>
<p>很妙的一道题，我想的是，需要将相同城市联系起来，考虑它们在虚树上的关系，每个点需要和它倾向的所有点连边，然后实际上只会连
<span class="math inline">\(O(n)\)</span> 条边，连好之后 <span
class="math inline">\(tarjan\)</span> 求下 <span
class="math inline">\(SCC\)</span> 就行。</p>
<p>有一种非常神奇的做法，考虑点分治，暴力求分治中心的答案，然后考虑其它点，发现之后的所有点的答案都不会跨过分治中心，可以暴力计算。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/20/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0920%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/20/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0920%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220920总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-20 19:27:26" itemprop="dateCreated datePublished" datetime="2022-09-20T19:27:26+08:00">2022-09-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:14" itemprop="dateModified" datetime="2025-02-16T20:21:14+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="某场考试t1"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/A">某场考试T1</a></h2>
<p>怎么说，题不难，但是需要想一下。</p>
<p>考虑右端点进行贪心的思路挺妙的。</p>
<h2 id="某场考试t2"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/B">某场考试T2</a></h2>
<p>比较套路的题，先弄出一个 <span class="math inline">\(t\times
n^4\)</span>
的凑合做，然后发现两维转移系数独立，转移答案为三角形和形式乘上两维系数，可以考虑固定第二维，单独计算第一维不同转移系数对应的式子，每一种系数的变化量为
<span class="math inline">\(O(1)\)</span>，所以一次转移可以做到 <span
class="math inline">\(O(n)\)</span>。</p>
<h2 id="某场考试t3"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/C">某场考试T3</a></h2>
<p>神仙题，考场上猜到树一定有解，但是想的是通过背包来构造解，事实上，可以归纳的证明每棵子树带来的差异可以取
<span class="math inline">\([-sz_u,sz_u]\)</span>
中的任意值，所以对于树暴力构造一条从根到某个点的路径，可以满足路径两边大小相等。</p>
<p>考虑图上的结果。</p>
<p>09
年的一篇集训队论文告诉我们对于图上的问题，往往可以考虑其生成树的解法，从而进行拓展，发现无向图的生成树没有横插边，所以直接选取生成树上的答案，由于没有返祖边，所以原来合法的同样合法。</p>
<h2 id="某场考试t4"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/D">某场考试T4</a></h2>
<p>也是比较套路的题。</p>
<p>很明显本质上是给你个一次函数做路径边权，然后 <span
class="math inline">\(k\)</span> 的值为 <span
class="math inline">\(1\)</span>，所以计算出每个点每个 <span
class="math inline">\(k\)</span> 的值即可。</p>
<p>我选择分层图跑 <span class="math inline">\(dij\)</span>
外加大力卡常，但这是一种非常 <span class="math inline">\(SB\)</span>
的行为，<span class="math inline">\(dij\)</span>
本质上还是保证了转移的无环性，但 <span class="math inline">\(TM\)</span>
这个转移本来就无环还跑你大爷的 <span
class="math inline">\(dij\)</span>，暴力 <span
class="math inline">\(dp\)</span> 出来做凸包就行。</p>
<p>然后从 <span class="math inline">\(n\)</span> 的各个在凸包上的 <span
class="math inline">\(k\)</span>，倒推回去看那些点可能被用到，倒推可以写成记搜，这样只用存一遍边。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/19/OI/%E9%A2%98%E8%A7%A3%E5%90%88%E9%9B%86/%E5%81%9A%E9%A2%985/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/19/OI/%E9%A2%98%E8%A7%A3%E5%90%88%E9%9B%86/%E5%81%9A%E9%A2%985/" class="post-title-link" itemprop="url">20220919小记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-19 20:49:12" itemprop="dateCreated datePublished" datetime="2022-09-19T20:49:12+08:00">2022-09-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:58:30" itemprop="dateModified" datetime="2025-02-16T17:58:30+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="某道-gcd-题">某道 GCD 题</h2>
<p>给一个 <span class="math inline">\(n\times m\)</span> 矩阵，元素为
<span class="math inline">\(1-n\times m\)</span>
的排列，问你所有子矩阵的 GCD 之和。</p>
<p>反正我想的是考虑一个右下角，移动左上角来统计答案，这样的话考虑到 gcd
的变化次数是<span class="math inline">\(\log\)</span>
的，说不定有救，但是需要完成区间取 GCD，这个不好做。</p>
<p>想一下，这个做法没有利用到每个数只出现一次的性质，通常这种只出现一次的性质往往和倍数这些相联系，不妨换个思路考虑，考虑
<span class="math inline">\(i\)</span>
的倍数的子矩阵的数量，然后发现容斥一下就可以得到答案。统计 <span
class="math inline">\(i\)</span> 的倍数的子矩阵数量不难。</p>
<h2 id="noi2021d1t1">NOI2021D1T1</h2>
<p>我想了一下，链是会做的，<strong>树链剖分</strong>，就是把树变成 <span
class="math inline">\(\log\)</span> 个链来做。</p>
<p>然后其实每条重链按照链的方式来做，重链的交汇处需要特殊处理。</p>
<p>不妨把边下放到点，发现如果一个点的父亲的修改时间晚于该点的修改时间，那么这个点所代表的链就没用，所以对每个点维护两个东西，一个是该点的修改时间，另一个是该点代表的边是否被修改成重边。</p>
<p>查询的时候对链的交界处需要查修改时间判断是否有效。</p>
<p>其实有个更简易的方式，就是把修改看成染色，一条边有贡献当且仅当其两个端点颜色相同，这个很容易用树剖维护。</p>
<p>这两种方式其实体现出处理边的两种方式——下放到点考虑，考虑两个端点的状态。</p>
<p>需要灵活运用这两种方式解题。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://huanyp.cn/2022/09/05/%E7%94%9F%E6%B4%BB/%E9%9A%8F%E8%AE%B020220904/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/05/%E7%94%9F%E6%B4%BB/%E9%9A%8F%E8%AE%B020220904/" class="post-title-link" itemprop="url">随记20220904</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-05 00:22:54" itemprop="dateCreated datePublished" datetime="2022-09-05T00:22:54+08:00">2022-09-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:49:01" itemprop="dateModified" datetime="2025-02-16T17:49:01+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">生活</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="随记20220904">随记20220904</h2>
<p>双膝折叠，跪坐在算不上柔软的沙发上，两臂枕在凸起的窗沿。我有些懒散的将下巴靠在小臂，又竭力不让窗沿压迫小臂，以免有些脆弱敏感的手部神经受到刺激，<span
class="math inline">\(P=\frac{F}{S}\)</span>，一个非常优美的公式。我开始估算手臂和窗沿的接触面积，我脑袋的半径，以便带入人体平均密度计算出手部受到的压强相当于几个大气压。</p>
<p>不得不说，物理和数学公式都是优美的，只需要用上统一的几个名字，就能尽情将身边的一切等效。或者说，公式本身不够优美，但是人们设计的物理单位是那么的精巧，避免了那些繁杂的常量，一些无比熟悉的数字又飞入脑海，<span
class="math inline">\(e\approx2.718\)</span>,<span
class="math inline">\(\pi\approx3.1415927,G\approx6.67\times
10^{-11}m^3kg^{-1}s^{-2}\cdots\)</span>。</p>
<p>将越跑越远的联想收回来，生活不是科学，生活不需要那些能精确到小数点后几十几百位的数字。生活的美感，是一种无法用任何数学语言描述的美感。</p>
<p>陶渊明的 “采菊东篱下，悠然见南山”，带来田园的悠然自得。</p>
<p>王维的 “大漠孤烟直，长河落日圆”，给出荒凉的独特答案。</p>
<p>马致远的
“枯藤老树昏鸦，小桥流水人家，古道西风瘦马。”，留下秋日的那份伤感。</p>
<p>但我只是一个平常的理科生，对感性的语文并不敏感，但窗外的宁静，也足以让我有感写下一些拙劣幼稚的文字。</p>
<p>我不知道今年的干旱具体给天府之国带来了多大的影响，但是从居民区的停电和学校的被迫放假还是能够管中窥豹。刚回到学校没多久，COVID
就横扫四川所有中学，没有一所逃过延迟开学的结局，即使是强硬如某校，也只不过多坚持了半天，就匆匆将神兽们赶了回去——就在高温假结束后的
2 天。</p>
<p>所以我就在这个时候，趴在了窗前，半夜的街道很冷清，只能听见百草路地铁口
“握紧扶手，注意脚下” 的提醒。目光向上
90度，我甚至能分辨出夜空中的云朵，它们和蓝色的天空还有一丝界限，但其实都很暗，它们一起向目光尽头的高楼收敛。如果你想具体的体会一下，你可以打开
<code>mspaint</code>，天的颜色是 <code>0 60 85</code>，云的颜色是
<code>212 212 212</code>，而它们收敛向 <code>69 24 34</code>。RGB
空间还是很无力，区区 3Byte
无法描绘出世界上的，甚至无法描绘出人肉眼可以分辨的所有颜色。</p>
<p>黯淡的云朵没有动作，视野的右侧有一颗明亮的光点，它是星星。按照不知道从哪里得知的观星技巧，我快速的扫过窗口狭小的天空，又有数十的光点在视野中闪过，但我尝试正眼捕捉，它们又藏入了深色的天空，像是一个个纯黑背景下的白色像素点，于缩放后在显存中被彻底删除，我再也找不到它们。即使有着凹透镜的帮助，变形略显严重的晶状体也失去了精确的将波长仅有
<span class="math inline">\(300-500nm\)</span>
的可见光折射到每一个感光细胞的能力。</p>
<p>一段时间的沉寂后，波浪状的云遮住了唯一那颗被轻易捕捉到的星星，视野渐渐下移，移过
“立德树人”
四个大字，是熟悉的水泥路。很突然，沥青从路面翻起，回到工人的铲子，回到工程车辆，回到工厂，最后在分馏器中重新变成原油，再顺着磕头机的管道流入地底。远处的高楼被荒芜的草地替换，眼前的工地，正热火朝天。。。</p>
<p>又重归沉寂，只有略冷的风打在脸上，我看了看最近都在 1.5km
之外的高楼，并细细感受周遭的气温，思考着这股风的来历，但已经有些陌生的地理和物理知识不再能闪着光告诉我答案。</p>
<p><code>shutdown -f</code>，我告诉大脑，但又用留在海马体里的数据恢复了这段文字，像是被设置了关机命令为休眠的计算机。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/9/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">huan-yp</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
