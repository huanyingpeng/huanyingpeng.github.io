<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"huanyp.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","display":"post","width_expanded":320,"width_dual_column":240,"padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="幻影彭的彩虹">
<meta property="og:url" content="http://huanyp.cn/page/7/index.html">
<meta property="og:site_name" content="幻影彭的彩虹">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="huan-yp">
<meta property="article:tag" content="算法竞赛, 自动化测试, 工程技术, Python">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://huanyp.cn/page/7/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>幻影彭的彩虹</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">幻影彭的彩虹</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">记录青春的扇区</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-友情链接"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友情链接</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="huan-yp"
      src="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
  <p class="site-author-name" itemprop="name">huan-yp</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">101</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/huan-yp" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;huan-yp" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:3051561876@qq.com" title="E-Mail → mailto:3051561876@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/1155409006?spm_id_from=333.1369.0.0" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;1155409006?spm_id_from&#x3D;333.1369.0.0" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i>Bilibili</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/25/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/C-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/25/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/C-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">C++的一些踩坑记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-25 16:33:05" itemprop="dateCreated datePublished" datetime="2022-09-25T16:33:05+08:00">2022-09-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:47:07" itemprop="dateModified" datetime="2025-02-16T17:47:07+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="声明和定义">声明和定义</h2>
<ul>
<li>正常情况下，函数的声明和定义可以分开写，如果函数参数有默认参数，写在声明或定义处都没问题，如果函数为模板参数，那么<strong>默认参数只能写在声明处</strong></li>
</ul>
<h2 id="模板函数">模板函数</h2>
<p>模板函数用于将同一个函数对不同类型生效，一般来说，最好不要用
<code>auto</code> 来捕获，写模板函数才是正确的方式。</p>
<p><strong>模板函数的声明和定义一般不能分开。</strong></p>
<h3 id="隐式指定">隐式指定</h3>
<p>如果你想偷懒，就是调用的时候不想写
<code>&lt;T1,T2...&gt;</code>，那么你<strong>调用的时候</strong>必须能让编译器推断出每个模板类型参数是什么，而且同一种类型不能冲突。</p>
<p>这里需要注意字面量的类型问题。</p>
<p><strong>注意，如果你使用了默认参数，那么调用的时候可能就无法让编译器推断出类型从而出现
CE</strong>。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(T1 x,T1 y,T2 len=<span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//CE</span></span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">30</span>);<span class="comment">//OK</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(T1 x,T2 y,T2 len=<span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1.5</span>);<span class="comment">//OK</span></span><br><span class="line"><span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1.5</span>,<span class="number">30</span>);<span class="comment">//CE</span></span><br></pre></td></tr></table></figure>
<p>类型参数捕获比较阴间的例子，可以发现它会先捕获"简单"的，不太想深究这个：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(vector&lt;T1&gt; a,T1 b,T2 c)</span></span>;</span><br><span class="line"><span class="built_in">add</span>(&#123;<span class="number">1.5</span>,<span class="number">3</span>&#125;,<span class="number">1.5</span>,<span class="number">5</span>);<span class="comment">//ok</span></span><br><span class="line"><span class="built_in">add</span>(&#123;<span class="number">1.5</span>,<span class="number">3.5</span>&#125;,<span class="number">1</span>,<span class="number">5</span>);<span class="comment">//CE</span></span><br></pre></td></tr></table></figure>
<h3 id="显式指定">显式指定</h3>
<p>如果显示指定参数，那么会出现类型强制转换，和正常的函数调用完全相同。</p>
<p>例子就不举了，和正常函数没差别。</p>
<h2 id="指针">指针</h2>
<h3 id="常量指针">常量指针</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span>* p = &amp;a; <span class="comment">//指向常量的指针</span></span><br><span class="line"><span class="type">int</span>* <span class="type">const</span> p = &amp;a; <span class="comment">//p 指向的位置不可变</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/24/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0922%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/24/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0922%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220922考试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-24 07:20:48" itemprop="dateCreated datePublished" datetime="2022-09-24T07:20:48+08:00">2022-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:25" itemprop="dateModified" datetime="2025-02-16T20:21:25+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0124">考试</a></p>
<h2 id="t1">T1</h2>
<p>中规中矩的一道题，但是我的做法比较蠢。</p>
<p>考虑最终那些序列可以成为答案的方式没有问题，但是我考虑的条件是对于
<span class="math inline">\(a_i\)</span>，大于等于它的数必须多余 <span
class="math inline">\(n-i+1\)</span> 个。这样需要记录的东西是 <span
class="math inline">\(2\)</span>
维的，然后转移还不是优雅的前缀和形式。实际上可以考虑 <span
class="math inline">\(b_i\ge a_i\)</span>
这个条件，也就是多想一想的事，这样的转移可以写成优雅的前缀和。</p>
<p>像这种转化后考虑条件的题，一定要找一个简易的条件去做。</p>
<h2 id="t2">T2</h2>
<p>中规中矩的一道状压题。</p>
<p>我考虑直接爆搜联通块，但是这样的做法不是很优雅。转移时其实仅和当前选了哪些点有关，所以其实可以动态规划，做到
<span
class="math inline">\(3^n\)</span>，这种联通块相关的题，一定要考虑联通块之间有没有关系，能不能用动态规划搞定。</p>
<h3 id="t3">T3</h3>
<p>中规中矩的一道数据结构优化动态规划的题。</p>
<p>一种比较经典的动态规划优化方式是拿数据结构维护可能的转移，这题本身有着比较优美的性质，可以将对转移代价的贡献拆成两个区间加。</p>
<p>对于修改独立的情况，如果要快速求出答案需要预处理序列，不妨考虑二进制分组。</p>
<h2 id="t4">T4</h2>
<p>有意思的二分题。</p>
<p>最大值最小还是可以考虑二分的。</p>
<p>对于这种两者加起来不超过一个数的题，往往可以考虑每个数与 <span
class="math inline">\(\frac{s}{2}\)</span> 的关系。</p>
<p>这种题，显然最终的答案序列是很多个不超过 <span
class="math inline">\(\frac{s}{2}\)</span> 的，中间夹着不超过一个大于
<span class="math inline">\(\frac{s}{2}\)</span> 的，所以容易证明不超过
<span class="math inline">\(\frac{s}{2}\)</span>
的数是必选的，如果不选，一定可以调整过去。</p>
<p>然后二分之后需要 check 一下总个数。一个区间中存在合法的大于 <span
class="math inline">\(\frac{s}{2}\)</span>
的数，当且仅当最小值合法。但是如果真的要检查区间最小值个数，那是非常困难的，因为我们需要先得知每个区间的位置，这个位置个数是
<span class="math inline">\(O(n)\)</span> 的。</p>
<p>所以不妨从合法的数本身的性质考虑，容易发现，合法的数，与它左右两边第一个小于它的数的和一定是小于
<span class="math inline">\(s\)</span>
的，如果出现相等那么为了避免重复需要设一个第二关键字。</p>
<p>这样就可以做到 <span class="math inline">\(O(\log)\)</span> check
了，对于两边的边界，可以特判掉。</p>
<p>我们发现需要 check 的东西形如 <span
class="math inline">\([l,r]\)</span> 中 <span class="math inline">\(\le
x\)</span>
的数的个数，这是整体二分擅长处理的东西，所以考虑整体二分，二分的时候将原来的有序组有序的分裂下去，就变成了一维偏序，而且不需要排序（已经有序了）。求左右区间端点也可以类似的做。</p>
<p>对于边界，可以用 ST 表特判，时间复杂度 <span
class="math inline">\(O(n\log n)\)</span>。常数比较大。</p>
<p>整体二分的卡常是有一些技巧的，比如巧妙处理归并，归并的同时分裂数组，通过下标分裂而不是
<code>vector</code> 等。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/21/OI/%E7%AE%97%E6%B3%95/%E6%A0%91%E4%B8%8A%E9%93%BE%E9%A2%86%E5%9F%9F%E4%BF%AE%E6%94%B9%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/21/OI/%E7%AE%97%E6%B3%95/%E6%A0%91%E4%B8%8A%E9%93%BE%E9%A2%86%E5%9F%9F%E4%BF%AE%E6%94%B9%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">树上链领域修改问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-21 15:02:20" itemprop="dateCreated datePublished" datetime="2022-09-21T15:02:20+08:00">2022-09-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:55:44" itemprop="dateModified" datetime="2025-02-16T17:55:44+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>还没写完，估计是个论文级别的大坑</strong></p>
<h2 id="问题引入">问题引入</h2>
<p>NOI2021
中的《轻重边》，一种比较经典的解法是将操作视为点染色，然后处理相邻点颜色相同的数量得到答案。但还有一种真正的<strong>树链剖分</strong>做法，这种做法能够体现树链剖分的本质——将树划分成
<span class="math inline">\(\log n\)</span> 条链，依次处理它们。</p>
<p>这一类题本质上都是树上邻域修改问题，即给定一条链，修改这条链的邻域。</p>
<h2 id="单点邻域修改">单点邻域修改</h2>
<p>条件：操作存在结合律。</p>
<p>给定一个点，修改其树上邻域。</p>
<p>这个是比较好做的，分两种情况讨论，操作是否存在逆元（且逆元容易求解）。</p>
<h3 id="操作存在逆元">操作存在逆元</h3>
<p>将一个点的操作视为两个部分，自身+父亲，对一个点的邻域操作时，在自身上打一个标记，暴力修改自己父亲的值，如果操作存在交换律则没有问题，如果不存在，则需要先得到父亲的真实值，然后操作后再放一个父亲的父亲标记的逆元。</p>
<p>共需进行 <span class="math inline">\(O(n)\)</span>
次操作和求解逆元。</p>
<h3 id="操作不存在逆元">操作不存在逆元</h3>
<p>如果操作只有结合律，那么会比较麻烦，如果是邻域赋值这类和<strong>之前的值无关</strong>的操作，可以记录一下每个点操作时间戳，清空一下树上标记，还是有救的。</p>
<p>如果和之前的值有关，并且查询只在最后做，那么可以开线段树记录一下</p>
<h3 id="操作不存在结合律">操作不存在结合律</h3>
<p>没救了，暴力吧。</p>
<h2 id="单点-k-阶邻域修改">单点 <span class="math inline">\(k\)</span>
阶邻域修改</h2>
<h2 id="树剖的优势">树剖的优势</h2>
<p>首先处理的操作必须具备结合律</p>
<p>首先处理在链上的情况是比较容易的，因为邻域只涉及额外 <span
class="math inline">\(O(1)\)</span>
个点，我们需要将这个优势拿到树上去。</p>
<p>考虑每次处理的 <span class="math inline">\(\log\)</span>
条重链，对于每条重链，它只会在 <span
class="math inline">\(top_u\)</span>
处对其它，或者受到其它重链的影响。不妨将对一个点的修改放到两个地方，它自己和它父亲</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/21/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0824%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/21/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0824%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">0824考试总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-21 11:14:34" itemprop="dateCreated datePublished" datetime="2022-09-21T11:14:34+08:00">2022-09-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:17" itemprop="dateModified" datetime="2025-02-16T20:21:17+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="某场考试总结">某场考试总结</h2>
<p>考完了一个月之后再来写总结也是没谁了。。。</p>
<p><a target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0112">考试</a></p>
<h3 id="t1">T1</h3>
<p>简单题，随手构造出来就行。</p>
<p>可以加强，比如弄成质数个，或者干脆 <span
class="math inline">\(10^{18}\)</span> 个。</p>
<p>然而有个结论，考虑往一个字符串后添加 <span
class="math inline">\(k\)</span> 个 <span
class="math inline">\(0/1\)</span>，那么本质不同子序列个数一定可以写成
<span class="math inline">\(k(x-b)+x\)</span> 的形式，其中 <span
class="math inline">\(x\)</span> 为该字符串的本质不同子序列个数，<span
class="math inline">\(b\)</span> 为上一个 <span
class="math inline">\(0/1\)</span>
前一个位置的答案。根据这个玩意来构造，不会太好做。</p>
<h3 id="t2">T2</h3>
<p>发现本质不同子序列个数随 <span class="math inline">\(n\)</span>
的增长近乎呈指数增长，猜想满足条件的不会太多，所以暴力处理即可。</p>
<p>实际上设 <span class="math inline">\(DP\)</span> 状态，<span
class="math inline">\(dp[i]\)</span> 表示考虑到前 <span
class="math inline">\(i\)</span> 个字符，本质不同子串个数，有转移 <span
class="math inline">\(dp[i]=2\times dp[i-1]-dp[lst[i]-1]\)</span>，<span
class="math inline">\(lst\)</span> 表示 <span
class="math inline">\(i\)</span> 处字符上一次出现的位置。</p>
<p>于是设 <span class="math inline">\(dp[i][j][k]\)</span> 为考虑前
<span class="math inline">\(i\)</span> 个字符，上一个 <span
class="math inline">\(0\)</span> 处本质不同子序列数量 <span
class="math inline">\(j\)</span>，上一个 <span
class="math inline">\(1\)</span> 处本质不同子序列数量为 <span
class="math inline">\(k\)</span>，枚举 <span
class="math inline">\(0,1\)</span>，直接转移。</p>
<h3 id="t3">T3</h3>
<p>我想的是折半之后爆搜，然后剪一下枝，比 <span
class="math inline">\(std\)</span> 快 <span
class="math inline">\(5\)</span> 倍。</p>
<p>确实也是折半，但是其实可以考虑偏序关系，两个 <span
class="math inline">\((x,y,z)\)</span> 三元组合并，不妨要求 <span
class="math inline">\(x_1+x_2\le y_1+y_2\le z_1+z_2\)</span>，然后值为
<span
class="math inline">\(z_1+z_2-(x_1+x_2)\)</span>，本质上是个二维偏序。</p>
<p>还可以剪个枝，强制要求 <span class="math inline">\(x_1\le y_1\le
z_1\)</span>。同样能对应上去。</p>
<p>实际上还可以发现强制要求 <span class="math inline">\(z_2\le y_2\le
x_2\)</span> 也没有问题，证明比较繁琐，故省略。</p>
<h3 id="t4">T4</h3>
<p>很妙的一道题，我想的是，需要将相同城市联系起来，考虑它们在虚树上的关系，每个点需要和它倾向的所有点连边，然后实际上只会连
<span class="math inline">\(O(n)\)</span> 条边，连好之后 <span
class="math inline">\(tarjan\)</span> 求下 <span
class="math inline">\(SCC\)</span> 就行。</p>
<p>有一种非常神奇的做法，考虑点分治，暴力求分治中心的答案，然后考虑其它点，发现之后的所有点的答案都不会跨过分治中心，可以暴力计算。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/20/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0920%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/20/OI/%E8%80%83%E8%AF%95%E6%80%BB%E7%BB%93/2022/0920%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">20220920总结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-20 19:27:26" itemprop="dateCreated datePublished" datetime="2022-09-20T19:27:26+08:00">2022-09-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 20:21:14" itemprop="dateModified" datetime="2025-02-16T20:21:14+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="某场考试t1"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/A">某场考试T1</a></h2>
<p>怎么说，题不难，但是需要想一下。</p>
<p>考虑右端点进行贪心的思路挺妙的。</p>
<h2 id="某场考试t2"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/B">某场考试T2</a></h2>
<p>比较套路的题，先弄出一个 <span class="math inline">\(t\times
n^4\)</span>
的凑合做，然后发现两维转移系数独立，转移答案为三角形和形式乘上两维系数，可以考虑固定第二维，单独计算第一维不同转移系数对应的式子，每一种系数的变化量为
<span class="math inline">\(O(1)\)</span>，所以一次转移可以做到 <span
class="math inline">\(O(n)\)</span>。</p>
<h2 id="某场考试t3"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/C">某场考试T3</a></h2>
<p>神仙题，考场上猜到树一定有解，但是想的是通过背包来构造解，事实上，可以归纳的证明每棵子树带来的差异可以取
<span class="math inline">\([-sz_u,sz_u]\)</span>
中的任意值，所以对于树暴力构造一条从根到某个点的路径，可以满足路径两边大小相等。</p>
<p>考虑图上的结果。</p>
<p>09
年的一篇集训队论文告诉我们对于图上的问题，往往可以考虑其生成树的解法，从而进行拓展，发现无向图的生成树没有横插边，所以直接选取生成树上的答案，由于没有返祖边，所以原来合法的同样合法。</p>
<h2 id="某场考试t4"><a
target="_blank" rel="noopener" href="https://local.cwoi.com.cn:8443/contest/C0123/problem/D">某场考试T4</a></h2>
<p>也是比较套路的题。</p>
<p>很明显本质上是给你个一次函数做路径边权，然后 <span
class="math inline">\(k\)</span> 的值为 <span
class="math inline">\(1\)</span>，所以计算出每个点每个 <span
class="math inline">\(k\)</span> 的值即可。</p>
<p>我选择分层图跑 <span class="math inline">\(dij\)</span>
外加大力卡常，但这是一种非常 <span class="math inline">\(SB\)</span>
的行为，<span class="math inline">\(dij\)</span>
本质上还是保证了转移的无环性，但 <span class="math inline">\(TM\)</span>
这个转移本来就无环还跑你大爷的 <span
class="math inline">\(dij\)</span>，暴力 <span
class="math inline">\(dp\)</span> 出来做凸包就行。</p>
<p>然后从 <span class="math inline">\(n\)</span> 的各个在凸包上的 <span
class="math inline">\(k\)</span>，倒推回去看那些点可能被用到，倒推可以写成记搜，这样只用存一遍边。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/19/OI/%E9%A2%98%E8%A7%A3%E5%90%88%E9%9B%86/%E5%81%9A%E9%A2%985/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/19/OI/%E9%A2%98%E8%A7%A3%E5%90%88%E9%9B%86/%E5%81%9A%E9%A2%985/" class="post-title-link" itemprop="url">20220919小记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-19 20:49:12" itemprop="dateCreated datePublished" datetime="2022-09-19T20:49:12+08:00">2022-09-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:58:30" itemprop="dateModified" datetime="2025-02-16T17:58:30+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="某道-gcd-题">某道 GCD 题</h2>
<p>给一个 <span class="math inline">\(n\times m\)</span> 矩阵，元素为
<span class="math inline">\(1-n\times m\)</span>
的排列，问你所有子矩阵的 GCD 之和。</p>
<p>反正我想的是考虑一个右下角，移动左上角来统计答案，这样的话考虑到 gcd
的变化次数是<span class="math inline">\(\log\)</span>
的，说不定有救，但是需要完成区间取 GCD，这个不好做。</p>
<p>想一下，这个做法没有利用到每个数只出现一次的性质，通常这种只出现一次的性质往往和倍数这些相联系，不妨换个思路考虑，考虑
<span class="math inline">\(i\)</span>
的倍数的子矩阵的数量，然后发现容斥一下就可以得到答案。统计 <span
class="math inline">\(i\)</span> 的倍数的子矩阵数量不难。</p>
<h2 id="noi2021d1t1">NOI2021D1T1</h2>
<p>我想了一下，链是会做的，<strong>树链剖分</strong>，就是把树变成 <span
class="math inline">\(\log\)</span> 个链来做。</p>
<p>然后其实每条重链按照链的方式来做，重链的交汇处需要特殊处理。</p>
<p>不妨把边下放到点，发现如果一个点的父亲的修改时间晚于该点的修改时间，那么这个点所代表的链就没用，所以对每个点维护两个东西，一个是该点的修改时间，另一个是该点代表的边是否被修改成重边。</p>
<p>查询的时候对链的交界处需要查修改时间判断是否有效。</p>
<p>其实有个更简易的方式，就是把修改看成染色，一条边有贡献当且仅当其两个端点颜色相同，这个很容易用树剖维护。</p>
<p>这两种方式其实体现出处理边的两种方式——下放到点考虑，考虑两个端点的状态。</p>
<p>需要灵活运用这两种方式解题。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/05/%E7%94%9F%E6%B4%BB/%E9%9A%8F%E8%AE%B020220904/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/05/%E7%94%9F%E6%B4%BB/%E9%9A%8F%E8%AE%B020220904/" class="post-title-link" itemprop="url">随记20220904</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-05 00:22:54" itemprop="dateCreated datePublished" datetime="2022-09-05T00:22:54+08:00">2022-09-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:49:01" itemprop="dateModified" datetime="2025-02-16T17:49:01+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">生活</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="随记20220904">随记20220904</h2>
<p>双膝折叠，跪坐在算不上柔软的沙发上，两臂枕在凸起的窗沿。我有些懒散的将下巴靠在小臂，又竭力不让窗沿压迫小臂，以免有些脆弱敏感的手部神经受到刺激，<span
class="math inline">\(P=\frac{F}{S}\)</span>，一个非常优美的公式。我开始估算手臂和窗沿的接触面积，我脑袋的半径，以便带入人体平均密度计算出手部受到的压强相当于几个大气压。</p>
<p>不得不说，物理和数学公式都是优美的，只需要用上统一的几个名字，就能尽情将身边的一切等效。或者说，公式本身不够优美，但是人们设计的物理单位是那么的精巧，避免了那些繁杂的常量，一些无比熟悉的数字又飞入脑海，<span
class="math inline">\(e\approx2.718\)</span>,<span
class="math inline">\(\pi\approx3.1415927,G\approx6.67\times
10^{-11}m^3kg^{-1}s^{-2}\cdots\)</span>。</p>
<p>将越跑越远的联想收回来，生活不是科学，生活不需要那些能精确到小数点后几十几百位的数字。生活的美感，是一种无法用任何数学语言描述的美感。</p>
<p>陶渊明的 “采菊东篱下，悠然见南山”，带来田园的悠然自得。</p>
<p>王维的 “大漠孤烟直，长河落日圆”，给出荒凉的独特答案。</p>
<p>马致远的
“枯藤老树昏鸦，小桥流水人家，古道西风瘦马。”，留下秋日的那份伤感。</p>
<p>但我只是一个平常的理科生，对感性的语文并不敏感，但窗外的宁静，也足以让我有感写下一些拙劣幼稚的文字。</p>
<p>我不知道今年的干旱具体给天府之国带来了多大的影响，但是从居民区的停电和学校的被迫放假还是能够管中窥豹。刚回到学校没多久，COVID
就横扫四川所有中学，没有一所逃过延迟开学的结局，即使是强硬如某校，也只不过多坚持了半天，就匆匆将神兽们赶了回去——就在高温假结束后的
2 天。</p>
<p>所以我就在这个时候，趴在了窗前，半夜的街道很冷清，只能听见百草路地铁口
“握紧扶手，注意脚下” 的提醒。目光向上
90度，我甚至能分辨出夜空中的云朵，它们和蓝色的天空还有一丝界限，但其实都很暗，它们一起向目光尽头的高楼收敛。如果你想具体的体会一下，你可以打开
<code>mspaint</code>，天的颜色是 <code>0 60 85</code>，云的颜色是
<code>212 212 212</code>，而它们收敛向 <code>69 24 34</code>。RGB
空间还是很无力，区区 3Byte
无法描绘出世界上的，甚至无法描绘出人肉眼可以分辨的所有颜色。</p>
<p>黯淡的云朵没有动作，视野的右侧有一颗明亮的光点，它是星星。按照不知道从哪里得知的观星技巧，我快速的扫过窗口狭小的天空，又有数十的光点在视野中闪过，但我尝试正眼捕捉，它们又藏入了深色的天空，像是一个个纯黑背景下的白色像素点，于缩放后在显存中被彻底删除，我再也找不到它们。即使有着凹透镜的帮助，变形略显严重的晶状体也失去了精确的将波长仅有
<span class="math inline">\(300-500nm\)</span>
的可见光折射到每一个感光细胞的能力。</p>
<p>一段时间的沉寂后，波浪状的云遮住了唯一那颗被轻易捕捉到的星星，视野渐渐下移，移过
“立德树人”
四个大字，是熟悉的水泥路。很突然，沥青从路面翻起，回到工人的铲子，回到工程车辆，回到工厂，最后在分馏器中重新变成原油，再顺着磕头机的管道流入地底。远处的高楼被荒芜的草地替换，眼前的工地，正热火朝天。。。</p>
<p>又重归沉寂，只有略冷的风打在脸上，我看了看最近都在 1.5km
之外的高楼，并细细感受周遭的气温，思考着这股风的来历，但已经有些陌生的地理和物理知识不再能闪着光告诉我答案。</p>
<p><code>shutdown -f</code>，我告诉大脑，但又用留在海马体里的数据恢复了这段文字，像是被设置了关机命令为休眠的计算机。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/09/03/OI/%E7%AE%97%E6%B3%95/%E4%BB%8E2D1D%E5%88%B01D1D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/03/OI/%E7%AE%97%E6%B3%95/%E4%BB%8E2D1D%E5%88%B01D1D/" class="post-title-link" itemprop="url">从2D1D到1D1D</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-03 09:18:50" itemprop="dateCreated datePublished" datetime="2022-09-03T09:18:50+08:00">2022-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:54:28" itemprop="dateModified" datetime="2025-02-16T17:54:28+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="从区间-dp-到线性-dp">从区间 DP 到线性 DP</h2>
<h3 id="题目">题目</h3>
<p>你有 <span class="math inline">\(n\)</span> 个区间，每个区间是 <span
class="math inline">\(l,r,w\)</span>
三个参数描述，表示左右端点和权值，如果区间有交（包括端点），那么就在有交的两个区间连边，形成一张无向图，有个参数
<span
class="math inline">\(k\)</span>，你需要删去一些区间，使得每个联通块大小不超过
<span class="math inline">\(k\)</span>。</p>
<ul>
<li><p><span class="math inline">\(n\leq 500\)</span></p></li>
<li><p><span class="math inline">\(n\leq 2500\)</span></p></li>
</ul>
<h3 id="思考">思考</h3>
<p>首先这肯定不是一个图论问题，给一张图做这个问题是 <span
class="math inline">\(NP\)</span> 的，所以要利用好区间的性质。</p>
<p>先把区间离散化。</p>
<p>发现可以考虑一段区间 <span
class="math inline">\([l,r]\)</span>，只考虑在区间内的区间，计算其答案，有两种方式，第一种是将区间继续划分成两个子区间，<strong>划分区间的过程，体现出了全局最优的思想</strong>，即我们假定了当前区间内的所有线段全部联通，这样不一定能在此处取到最优解，但一定可以在向下动态规划的过程中得到最优解，另一种是直接在当前区间选最大的
<span class="math inline">\(k\)</span> 个保留。</p>
<p>划分区间的方式，就是选一个地方断开，删掉越过这个地方的所有区间，变成两个子问题。</p>
<p>有了这样的思路，我们很容易设计出一个 <span
class="math inline">\(O(n^3)\)</span> 的区间动态规划出来。</p>
<h3 id="优化">优化</h3>
<p><span class="math inline">\(O(n^3)\)</span> 可以通过 <span
class="math inline">\(n\leq 500\)</span> 的数据点，但是无法通过 <span
class="math inline">\(n\leq 2500\)</span>，所以需要优化为 <span
class="math inline">\(O(n^2)\)</span>，其中预处理 <span
class="math inline">\([l,r]\)</span> 的复杂度是 <span
class="math inline">\(O(n^2\log n)\)</span>
的，但是常数较小能够接受。</p>
<p>于是可以考虑利用区间 <span class="math inline">\(dp\)</span>
的一些常见优化手段，打个表，发现决策点并不单调，所以对于这类 <span
class="math inline">\(2D1D\)</span>
问题我们有点束手无策。但是感觉上记录区间有点浪费，于是考虑能不能线性的搞出来。发现如果设
<span class="math inline">\(dp[i]\)</span> 表示考虑前 <span
class="math inline">\(i\)</span> 个的答案，从 <span
class="math inline">\(j&lt;i\)</span> 转移，<span
class="math inline">\([j,i]\)</span> 采用直接减少到 <span
class="math inline">\(k\)</span>
的方式，也能得到和区间DP方式相同的转移考虑。</p>
<p>所以被优化成了 <span
class="math inline">\(O(n^2)\)</span>。越过每个点的区间总数，是可以动态维护的，均摊
<span class="math inline">\(O(1)\)</span>。</p>
<h3 id="从2d1d到1d1d">从2D1D到1D1D</h3>
<p>其实这类问题，是伪区间DP问题，比较它和真区间DP问题，比如《石子合并》，《优雅的闪电》的差异。它本质上是
1D1D
问题，石子合并很明显就是需要体现区间合并的顺序，所以必须采用区间DP。优雅的闪电的转移，无法被
1D1D 的转移考虑完全，所以仍然需要区间 DP。</p>
<p>关于一些 2D1D 的问题，可以仔细考察它的转移，能否被 1D1D
的形式描述，以便优化。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/08/30/OI/%E4%BB%A3%E7%A0%81%E6%8A%80%E5%B7%A7/%E5%85%B3%E4%BA%8EC++%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AE%B9%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/30/OI/%E4%BB%A3%E7%A0%81%E6%8A%80%E5%B7%A7/%E5%85%B3%E4%BA%8EC++%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AE%B9%E5%99%A8/" class="post-title-link" itemprop="url">C++ 容器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-30 09:19:43" itemprop="dateCreated datePublished" datetime="2022-08-30T09:19:43+08:00">2022-08-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:53:24" itemprop="dateModified" datetime="2025-02-16T17:53:24+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">算法竞赛</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="标准库">标准库</h2>
<ul>
<li>STL
内的所有基于比较的容器，都需要定义一个满足<strong>严格弱序</strong>的比较符号
<code>&lt;</code>，要求如下：
<ul>
<li>满足传递性：<span class="math inline">\(a&lt;b,b&lt;c\rightarrow
a&lt;c\)</span></li>
<li>不能同时满足 <span class="math inline">\(a&lt;b\)</span> 且 <span
class="math inline">\(b&lt;a\)</span></li>
<li>如果 <code>!(a&lt;b)&amp;&amp;!(b&lt;a)</code> 那么
<code>a=b</code></li>
</ul></li>
<li>除开 <code>array</code> 之外的所有 <code>STL</code>
容器，定义时都会初始化，即初始化为空或者(全为 <code>0</code>，对于
<code>bitset</code>)。</li>
<li>基于比较的容器，需要定义<strong>友元类型的大小比较符号</strong>，因为实现的时候使用了右值做比较。</li>
</ul>
<h3 id="priority_queue">priority_queue</h3>
<p>默认是大根堆，跑得很快，1 秒 <span class="math inline">\(3\times
10^6\)</span></p>
<p>如果需要实现可以删除的优先队列，<strong>必须保证每次删除时对应元素存在</strong>。</p>
<p>构造方式
<code>priority_queue&lt;type,container,cmp&gt;</code>，<code>container</code>
是实现 <code>priority_queue</code> 的容器，一般用
<code>vector</code>，<code>cmp</code>
是比较算子（因此它是一个类名）。</p>
<p>通过 <code>greater&lt;typename&gt;</code> 可以用重载的
<code>&gt;</code> 构造出一个大于算子。</p>
<h3 id="map">map</h3>
<p>本质上是 <code>set&lt;pair&lt;T1,T2&gt;&gt;</code>，见
<code>set</code>。</p>
<h3 id="set">set</h3>
<h4 id="insert">insert</h4>
<p>可以插入一段区间，支持数组，同类型的 <code>set vector</code>
容器。</p>
<p>开 O2，<span class="math inline">\(1\)</span> 秒 <span
class="math inline">\(1.5\times 10^6\)</span> 次操作。</p>
<p>如果接下来的一段插入有序，开 O2，<span
class="math inline">\(1\)</span> 秒 <span
class="math inline">\(4.5\times 10^6\)</span>
次，所以尽量排序后再插入。</p>
<h4 id="erase">erase</h4>
<p>开 O2，<span class="math inline">\(1\)</span> 秒 <span
class="math inline">\(1.5\times 10^6\)</span> 次操作。</p>
<p>如果接下来的一段插入有序，开 O2，<span
class="math inline">\(1\)</span> 秒 <span
class="math inline">\(4.5\times 10^6\)</span> 次。</p>
<h4 id="迭代器操作">迭代器操作</h4>
<p>开 O2，<span class="math inline">\(1\)</span> 秒 <span
class="math inline">\(10^7\)</span>。</p>
<h4 id="遍历">遍历</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> v:st)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> it=st.<span class="built_in">begin</span>();it!=st.<span class="built_in">end</span>();it++)</span><br></pre></td></tr></table></figure>
<p>以上两种均为 <span class="math inline">\(O(n\log n)\)</span></p>
<p>开 O2，<span class="math inline">\(1\)</span> 秒 <span
class="math inline">\(10^7\)</span> 次操作。</p>
<h3 id="unordered_set">unordered_set</h3>
<p>基础操作相比 <code>set</code> 快 <span
class="math inline">\(2\)</span> 倍。</p>
<p>有序操作和 <code>set</code> 效率差不多。</p>
<h3 id="unoedered_map">unoedered_map</h3>
<p>本质上是 <code>unordered_set&lt;pair&lt;T1,T2&gt;&gt;</code>。</p>
<h3 id="vector">vector</h3>
<p>比较理想的一个容器。</p>
<h4 id="push_back">push_back()</h4>
<p>一个 <code>vector</code> 做 <code>push_back</code> 需要
<code>log</code> 次 <code>new</code>，而 <code>new</code>
操作一般只能接受 <span class="math inline">\(2\times 10^7\)</span>
次，所以尽量避免用太多 <code>vector</code>，如果能事先确定容器的
<code>capacity</code>，最好用 <code>resize</code></p>
<h4 id="iterator-insertiteratorval">iterator insert(iterator,val)</h4>
<p>将 <code>val</code> 插入 <code>iterator</code> 位置，原
<code>iterator</code> 位置往后移动。</p>
<p>复杂度 <span class="math inline">\(O(n)\)</span>，但是跑得飞快。</p>
<h4 id="iterator-eraseiterator">iterator erase(iterator)</h4>
<p>删除 <code>iterator</code> 位置的值，返回原容器(删除前)下一个位置的
<code>iterator</code>。</p>
<h4 id="iterator">iterator</h4>
<p>这东西的迭代器本质上是个指针，但是不能和指针做强转，<strong>所以
<code>iterator</code> 在被 <code>erase</code> 后会指向错误的数据，不同于
<code>set</code> 这一类基于 <code>RBT</code> 的容器</strong>。</p>
<h4 id="内存过程">内存过程</h4>
<p>调用析构函数之前，<code>vector</code>
的内存不可能被释放，<code>push_back</code> 或者 <code>resize</code>
如果导致了内存改变，<strong>会开辟一块新的内存并将原有数据全部拷贝过去，保证内存地址的连续，同时原有迭代器全部失效。</strong></p>
<p><strong>vector 所有的 <span class="math inline">\(O(n)\)</span>
操作都很快</strong>，如果题目性质决定了很可能 <span
class="math inline">\(O(n^2)\)</span> 卡不满，那么 <code>vector</code>
可以得到很高的分数。</p>
<h2 id="拓展库">拓展库</h2>
<p>一个 <code>C++</code> 拓展库，<code>STL</code>
升级版，<code>C++11</code> 特性。</p>
<h3 id="gp_hash_table">gp_hash_table</h3>
<h4 id="introduction">Introduction</h4>
<p>如名称，哈希表，比 <code>unordered_map</code> 快 <code>3~4</code>
倍，用法完全一样，你值得拥有。</p>
<p>效率 1S 能做 4e7 次基本操作</p>
<p>在 <code>ext/pb_ds/assoc_container.hpp</code> 中。</p>
<p>如果对非标准结构，例如类和 <code>pair</code>
，容器等，需要自己写哈希方法，哈希方式为一个类，重载了 <code>()</code>
运算，该重载必须被声明为常函数，且参数必须为常值引用。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ext/pb_ds/assoc_container.hpp&gt;</span></span></span><br><span class="line">__gnu_pbds:: gp_hash_table &lt;<span class="type">int</span>,<span class="type">int</span>,hash_fun&gt; mp;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">	<span class="type">int</span> a,b;</span><br><span class="line">	<span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span> ==(<span class="type">const</span> node &amp;x,<span class="type">const</span> node &amp;y)&#123;</span><br><span class="line">		<span class="keyword">return</span> x.a==y.a;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">hash_fun</span>&#123;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(<span class="type">const</span> node &amp;a)</span> <span class="type">const</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a.a;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">__gnu_pbds:: gp_hash_table&lt;node,<span class="type">int</span>,hash_fun&gt; mp;</span><br><span class="line">mp.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">mp[<span class="number">2</span>]=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">if</span>(mp.<span class="built_in">find</span>(<span class="number">2</span>) != mp.<span class="built_in">end</span>())&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,mp.<span class="built_in">find</span>(<span class="number">2</span>)-&gt;second);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="tests">Tests:</h4>
<p>这里只放关键部分，其余实现见<a
href="huanyp.cn/codes/Tests/hash_table/cmp.cpp">代码</a></p>
<p>测试环境为 Windows10，CPU 型号为 Inter I7-9750H，内存 16GB，
2667Mhz</p>
<p>命中率对速度影响：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">gen_data</span>(<span class="number">1e6</span>,<span class="number">4e7</span>,<span class="number">8</span>,<span class="number">7</span>);<span class="comment">//hit rate:87.5%</span></span><br><span class="line">gp.<span class="built_in">clear</span>();um.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">Test_Speed</span>(gp);<span class="comment">//878ms</span></span><br><span class="line"><span class="built_in">Test_Speed</span>(um);<span class="comment">//3107ms</span></span><br><span class="line"><span class="built_in">gen_data</span>(<span class="number">1e6</span>,<span class="number">4e7</span>,<span class="number">8</span>);<span class="comment">//hit rate:12.5%</span></span><br><span class="line">gp.<span class="built_in">clear</span>();um.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">Test_Speed</span>(gp);<span class="comment">//1351ms</span></span><br><span class="line"><span class="built_in">Test_Speed</span>(um);<span class="comment">//4168ms</span></span><br></pre></td></tr></table></figure>
<p>插入和查询次数调整：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">gen_data</span>(<span class="number">2e6</span>,<span class="number">4e7</span>,<span class="number">4</span>,<span class="number">1</span>); <span class="comment">//插入 2e6</span></span><br><span class="line">gp.<span class="built_in">clear</span>();um.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">Test_Speed</span>(gp);<span class="comment">//1475</span></span><br><span class="line"><span class="built_in">Test_Speed</span>(um);<span class="comment">//4728</span></span><br><span class="line"><span class="built_in">gen_data</span>(<span class="number">5e6</span>,<span class="number">4e7</span>,<span class="number">4</span>,<span class="number">1</span>);</span><br><span class="line">gp.<span class="built_in">clear</span>();um.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">Test_Speed</span>(gp);<span class="comment">//1445</span></span><br><span class="line"><span class="built_in">Test_Speed</span>(um);<span class="comment">//5038</span></span><br><span class="line"><span class="built_in">gen_data</span>(<span class="number">1e7</span>,<span class="number">4e7</span>,<span class="number">4</span>,<span class="number">1</span>);</span><br><span class="line">gp.<span class="built_in">clear</span>();um.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">Test_Speed</span>(gp);<span class="comment">//1877</span></span><br><span class="line"><span class="built_in">Test_Speed</span>(um);<span class="comment">//6128</span></span><br></pre></td></tr></table></figure>
<p>插入很多，查询很少。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">gen_data</span>(<span class="number">2e7</span>,<span class="number">4e6</span>,<span class="number">50</span>,<span class="number">1</span>);</span><br><span class="line">gp.<span class="built_in">clear</span>();um.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">Test_Speed</span>(gp);<span class="comment">//1690</span></span><br><span class="line"><span class="built_in">Test_Speed</span>(um);<span class="comment">//8383</span></span><br></pre></td></tr></table></figure>
<p>其实插入操作比较慢是正常的，内存占用大了之后自然就慢了。</p>
<p>另外，手写哈希表探测法还有救，拉链法直接抬走（你写代码的时候考虑过
CPU cache 的感受吗？）。</p>
<p>插入较少且全部在查询前面 <code>cc_hash_table</code> 的效率优于
<code>gp_hash_table</code>。</p>
<h3 id="tree">Tree</h3>
<p>虽然有这个东西，但是还是应该学习如何写平衡树。</p>
<p>效率还可以，开 O2
和以前手写差不多，估计现在手写的会快一些，不过问题不大。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://huanyp.cn/2022/08/17/%E5%AD%A6%E6%9C%AF/%E5%B7%A5%E5%85%B7/GeogeBra%E8%AE%A1%E7%AE%97%E5%99%A8%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/image_hosting/kvac64s4.png">
      <meta itemprop="name" content="huan-yp">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 幻影彭的彩虹">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/17/%E5%AD%A6%E6%9C%AF/%E5%B7%A5%E5%85%B7/GeogeBra%E8%AE%A1%E7%AE%97%E5%99%A8%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">GeogeBra计算器简易使用教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-17 11:56:36" itemprop="dateCreated datePublished" datetime="2022-08-17T11:56:36+08:00">2022-08-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-16 17:49:49" itemprop="dateModified" datetime="2025-02-16T17:49:49+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="geogebra-计算器简易教程">Geogebra 计算器简易教程</h2>
<p>如果本文讲的不够精确，可以继续上网搜索教程。</p>
<h3 id="格式">格式</h3>
<p>数学公式格式直接支持 <code>LaTex</code> 和 <code>wolframalpha</code>
提供的数学公式，也可以按照它的提示写。</p>
<p>乘方为 <code>^</code>，分式直接写 <code>/</code>。</p>
<p>内置 <code>ln sin cos</code> 等常用函数，写约定的函数名即可提示。</p>
<p>求导可以直接写 <span class="math inline">\(f&#39;\)</span></p>
<p>积分输入 <code>integral</code>，会提示参数，默认对 <span
class="math inline">\(x\)</span> 做不定积分。</p>
<figure>
<img
src="https://raw.githubusercontent.com/huan-yp/image_space/master/202208171134545.png"
alt="E1" />
<figcaption aria-hidden="true">E1</figcaption>
</figure>
<p>可以看到下面还有一些特殊函数的提示框，可以根据这个输入。</p>
<h3 id="操作">操作</h3>
<p>一般只会用到 <code>Algebra</code> 区域的东西。</p>
<p>鼠标拖动可以调整坐标系显示区域，滚轮调整显示精度。</p>
<p>右下角的三个按钮中前两个可以起到滚轮的作用。</p>
<figure>
<img
src="https://raw.githubusercontent.com/huan-yp/image_space/master/202208171134475.PNG"
alt="E2" />
<figcaption aria-hidden="true">E2</figcaption>
</figure>
<p><code>ctrl+z</code> 撤销上一步操作，<code>ctrl+y</code>
取消上一步撤销操作，一步操作的判定比较迷惑，你认为的多步操作可能被判定为一步。</p>
<h3 id="设置">设置</h3>
<p>右上角有设置图标，见上图，点开后是是这样</p>
<figure>
<img
src="https://raw.githubusercontent.com/huan-yp/image_space/master/202208171134442.PNG"
alt="E3" />
<figcaption aria-hidden="true">E3</figcaption>
</figure>
<p>前三个全部默认勾上，不管，第五个 <code>Zoom to fit</code>
是自动调整的合适的大小，基本没用，点开第六个
<code>Settings</code>，主要用这个：</p>
<p>点进去之后只需要调 <code>Basic</code>，其它基本不用管。</p>
<figure>
<img
src="https://raw.githubusercontent.com/huan-yp/image_space/master/202208171134810.PNG"
alt="E4" />
<figcaption aria-hidden="true">E4</figcaption>
</figure>
<p>后面的基本不管，只需要调整
<code>Dimensions</code>，<code>x Min,x Max,y Min, y Max</code>
字面意义，显示的 <span class="math inline">\(x,y\)</span>
坐标的最大值和最小值，如果调整的话会自动调整下面的
<code>xAxis yAxis</code>，也就是 <span
class="math inline">\(x,y\)</span> 坐标的比例，如果点了
<code>xAxis</code> 那个锁定小图标，那么调整 <code>x Min</code>
会自动调整其它两个值(<code>y Min,x Min</code>)以满足比例要求。</p>
<h3 id="变量和函数设置">变量和函数设置</h3>
<figure>
<img
src="https://raw.githubusercontent.com/huan-yp/image_space/master/202208171134339.PNG"
alt="E5" />
<figcaption aria-hidden="true">E5</figcaption>
</figure>
<p>红圈圈出来的可以设置函数和变量，函数左边那个带颜色的框框可以点，点了之后就不再显示图像，当然再点一次就显示。</p>
<p>函数的设置没啥说的，看变量。</p>
<p>变量的那个播放按钮按下后会动态改变变量值，所有相关函数都会同时改变。</p>
<p><strong>如果希望在函数中使用变量，一般先定义变量再写函数。</strong></p>
<p>变量的设置中可以调整范围。</p>
<figure>
<img
src="https://raw.githubusercontent.com/huan-yp/image_space/master/202208171134005.PNG"
alt="E6" />
<figcaption aria-hidden="true">E6</figcaption>
</figure>
<p>在 <code>Slider</code>
选项中调整，调整的时候，<strong>上下界都调整好之后再按回车</strong>。</p>
<p><a target="_blank" rel="noopener" href="https://www.geogebra.org/calculator/fgqtercd">DEMO</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">huan-yp</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
